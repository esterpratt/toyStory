(function(e){function t(t){for(var r,a,i=t[0],u=t[1],c=t[2],d=0,p=[];d<i.length;d++)a=i[d],o[a]&&p.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"30c1":function(e,t,n){"use strict";var r=n("5d8c"),o=n.n(r);o.a},"38a2":function(e,t,n){"use strict";var r=n("dd02"),o=n.n(r);o.a},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=s(e);return n(t)}function s(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id="4678"},5010:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],a={created:function(){this.$router.push("/toy")}},i=a,u=(n("5c0b"),n("2877")),c=Object(u["a"])(i,o,s,!1,null,null,null);c.options.__file="App.vue";var l=c.exports,d=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h1",[e._v("Welcome to Toy-Store")]),e.isLoggedinUser?[n("div",[e._v("How are you today \n            "),n("router-link",{attrs:{to:"/user/"+e.user._id}},[e._v(e._s(e.user.username))])],1),e.user.isAdmin?n("router-link",{attrs:{to:"/toy/edit"}},[e._v("Add New Toy")]):e._e(),n("router-link",{attrs:{to:"/toy/stats"}},[e._v("Toy Statistics")]),n("router-link",{attrs:{to:"/review"}},[e._v("See toy reviews")]),n("toy-filter"),n("toy-list",{attrs:{toys:e.toys,user:e.user},on:{removeToy:e.removeToy}})]:n("router-link",{attrs:{to:"/"}},[e._v("Log In")])],2)},f=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",e._l(e.toys,function(t){return n("toy-preview",{key:t._id,attrs:{toy:t,user:e.user},on:{removeToy:function(n){e.$emit("removeToy",t._id)}}})}))},v=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v(e._s(e.toy.name))]),e.toy.inStock?n("p",[e._v("In Stock!")]):e._e(),n("p",[e._v("Price: "+e._s(e.toy.price))]),n("router-link",{attrs:{to:"/toy/"+e.toy._id}},[e._v("Details")]),e.user.isAdmin?[n("router-link",{attrs:{to:"/toy/edit/"+e.toy._id}},[e._v("Edit")]),n("button",{on:{click:function(t){e.$emit("removeToy")}}},[e._v("X")])]:e._e()],2)},b=[],h={props:{toy:Object,user:Object}},_=h,j=Object(u["a"])(_,m,b,!1,null,null,null);j.options.__file="toy-preview.vue";var w=j.exports,g={props:{toys:Array,user:Object},data:function(){return{}},components:{toyPreview:w},computed:{},methods:{},created:function(){}},k=g,T=Object(u["a"])(k,y,v,!1,null,null,null);T.options.__file="toy-list.vue";var $=T.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("form",[n("label",[n("p",[e._v("Filter by name:")]),n("el-input",{attrs:{placeholder:"Type something","prefix-icon":"el-icon-search"},on:{input:e.setFilter},model:{value:e.filter.byName,callback:function(t){e.$set(e.filter,"byName",t)},expression:"filter.byName"}})],1),n("label",[n("p",[e._v("Filter by existence in stock:")]),n("el-select",{attrs:{placeholder:"Select"},on:{change:e.setFilter},model:{value:e.filter.byStatus,callback:function(t){e.$set(e.filter,"byStatus",t)},expression:"filter.byStatus"}},[n("el-option",{attrs:{label:"All",value:"all"}}),n("el-option",{attrs:{label:"In Stock",value:"inStock"}}),n("el-option",{attrs:{label:"Not In Stock",value:"notInStock"}})],1)],1),n("label",[n("p",[e._v("Filter by type:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.filter.byType,expression:"filter.byType"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filter,"byType",t.target.multiple?n:n[0])},e.setFilter]}},[n("option",{attrs:{value:"all"}},[e._v("All")]),e._l(e.types,function(t,r){return n("option",{key:r,domProps:{value:t}},[e._v(e._s(t))])})],2)]),n("label",[n("el-select",{attrs:{placeholder:"Sort"},on:{change:e.setFilter},model:{value:e.filter.sort,callback:function(t){e.$set(e.filter,"sort",t)},expression:"filter.sort"}},[n("el-option-group",{attrs:{label:"By Name"}},[n("el-option",{attrs:{label:"A-Z",value:"name_1"}}),n("el-option",{attrs:{label:"Z-A",value:"name_-1"}})],1),n("el-option-group",{attrs:{label:"By Price"}},[n("el-option",{attrs:{label:"Low First",value:"price_1"}}),n("el-option",{attrs:{label:"High First",value:"price_-1"}})],1)],1)],1)])])},x=[],I={data:function(){return{filter:{byName:"",byStatus:"all",byType:"all",sort:"name_1"}}},components:{},computed:{types:function(){return this.$store.getters.types}},methods:{setFilter:function(){this.$store.dispatch({type:"setFilter",filter:this.filter})}},created:function(){}},O=I,N=Object(u["a"])(O,S,x,!1,null,null,null);N.options.__file="toy-filter.vue";var z=N.exports,E={name:"toys-app",data:function(){return{}},components:{toyList:$,toyFilter:z},computed:{toys:function(){return this.$store.getters.toys},user:function(){return this.$store.getters.user},isLoggedinUser:function(){return!!this.user._id}},methods:{removeToy:function(e){this.$store.dispatch({type:"removeToy",toyId:e})}},created:function(){this.$store.dispatch({type:"loadToys"})}},R=E,A=Object(u["a"])(R,p,f,!1,null,null,null);A.options.__file="toysApp-page.vue";var C=A.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.toy?n("section",[n("div",[e._v("\n        Toy name: "+e._s(e.toy.name)+"\n    ")]),n("div",[e._v("\n        Toy price: "+e._s(e.toy.price)+"\n    ")]),n("div",[e._v("\n        Toy Type: "+e._s(e.toy.type)+"\n    ")]),n("div",[e._v("\n        In Stock? "+e._s(e.toy.inStock?"Yes":"No")+"\n    ")]),n("div",[e._v("\n        Added to store at: "+e._s(e.toy.createdAt)+"\n    ")]),e.reviews.length>0?[n("p",[e._v("Reviews for this toy:")]),n("review-list",{attrs:{reviews:e.reviews}})]:e._e(),e.user._id?[n("form",{on:{submit:function(t){return t.preventDefault(),e.saveReview(t)}}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review.content,expression:"review.content"}],attrs:{type:"text",placeholder:"Enter Review"},domProps:{value:e.review.content},on:{input:function(t){t.target.composing||e.$set(e.review,"content",t.target.value)}}}),n("button",[e._v("Publish Review")])])]:e._e(),n("router-link",{attrs:{to:"/toy"}},[e._v("Back to Toys list")])],2):e._e()},F=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",e._l(e.reviews,function(e){return n("review-preview",{key:e._id,attrs:{review:e}})}))},U=[],L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",[n("span",[e._v(e._s(e.review.content)+" ")]),n("span",[e._v("By: "+e._s(e.review.user.username)+" ")]),n("span",[e._v("For Toy: "+e._s(e.review.toy.name))])])])},q=[],M={props:{review:Object}},D=M,H=(n("30c1"),Object(u["a"])(D,L,q,!1,null,null,null));H.options.__file="review-preview.vue";var J=H.exports,Q={props:{reviews:Array},components:{reviewPreview:J}},Y=Q,Z=(n("d9db"),Object(u["a"])(Y,B,U,!1,null,null,null));Z.options.__file="review-list.vue";var W=Z.exports,X={name:"toy-details",data:function(){return{toy:null}},components:{reviewList:W},computed:{user:function(){return this.$store.getters.user},review:function(){return{content:"",toyId:this.toy._id,userId:this.user._id}},reviews:function(){return this.$store.getters.reviewsToShow}},methods:{saveReview:function(){this.$store.dispatch({type:"saveReview",review:this.review})}},created:function(){var e=this,t=this.$route.params.toyId;t&&this.$store.dispatch({type:"getById",toyId:t}).then(function(t){e.toy=t.toy,e.$store.dispatch({type:"setReviews",reviews:t.reviews})})}},G=X,K=Object(u["a"])(G,P,F,!1,null,null,null);K.options.__file="toy-details.vue";var V=K.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("h2",[e._v(e._s(e.toy._id?"Edit":"Add")+" Toy")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.saveToy(t)}}},[n("label",[n("p",[e._v("Name:")]),n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"},{name:"model",rawName:"v-model",value:e.toy.name,expression:"toy.name"}],attrs:{name:"name",type:"text",placeholder:"Enter Toy Name"},domProps:{value:e.toy.name},on:{input:function(t){t.target.composing||e.$set(e.toy,"name",t.target.value)}}}),n("span",[e._v(e._s(e.errors.first("name")))])]),n("label",[n("p",[e._v("Price:")]),n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"},{name:"model",rawName:"v-model",value:e.toy.price,expression:"toy.price"}],attrs:{type:"number",name:"price",min:"0"},domProps:{value:e.toy.price},on:{input:function(t){t.target.composing||e.$set(e.toy,"price",t.target.value)}}}),n("span",[e._v(e._s(e.errors.first("price")))])]),n("label",[n("p",[e._v("Type:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.toy.type,expression:"toy.type"}],attrs:{type:"text",placeholder:"Enter Toy Type"},domProps:{value:e.toy.type},on:{input:function(t){t.target.composing||e.$set(e.toy,"type",t.target.value)}}})]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.toy.inStock,expression:"toy.inStock"}],attrs:{type:"checkbox"},domProps:{checked:e.toy.inStock,checked:Array.isArray(e.toy.inStock)?e._i(e.toy.inStock,null)>-1:e.toy.inStock},on:{change:function(t){var n=e.toy.inStock,r=t.target,o=!!r.checked;if(Array.isArray(n)){var s=null,a=e._i(n,s);r.checked?a<0&&e.$set(e.toy,"inStock",n.concat([s])):a>-1&&e.$set(e.toy,"inStock",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.toy,"inStock",o)}}}),n("p",[e._v(e._s(e.toy.inStock?"In":"Not in")+" stock")])]),n("button",[e._v(e._s(e.toy._id?"Update":"Add")+" toy")])]),n("router-link",{attrs:{to:"/toy"}},[e._v("Cancel")])],1)},te=[],ne={name:"toy-edit",data:function(){return{toy:{name:"",price:0,type:"",inStock:!0}}},components:{},computed:{},methods:{saveToy:function(){var e=this;this.$store.dispatch({type:"saveToy",toy:this.toy}).then(function(t){console.log("Saved Toy Succefully"),e.$router.push("/toy")})}},created:function(){var e=this,t=this.$route.params.toyId;t&&this.$store.dispatch({type:"getById",toyId:t}).then(function(t){e.toy=t.toy})}},re=ne,oe=Object(u["a"])(re,ee,te,!1,null,null,null);oe.options.__file="toy-edit.vue";var se=oe.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e._v("\n    Toys Statistics:\n    "),n("toy-charts",{attrs:{data:e.dataChart}})],1)},ie=[],ue=n("1fca"),ce={extends:ue["a"],props:{data:Object},mounted:function(){this.renderChart({labels:this.data.type,datasets:this.data.dataset})}},le={data:function(){return{}},components:{toyCharts:ce},computed:{typesCounts:function(){return this.$store.getters.typesCount},types:function(){return this.typesCounts.map(function(e){return e._id})},counts:function(){return this.typesCounts.map(function(e){return e.count})},dataChart:function(){return{dataset:[{backgroundColor:["red","green","blue","yellow","orange","purple","grey"],data:this.counts}],type:this.types}}},created:function(){this.$store.dispatch({type:"getTypesCount"})}},de=le,pe=(n("a99d"),Object(u["a"])(de,ae,ie,!1,null,null,null));pe.options.__file="toy-stats.vue";var fe=pe.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"Enter Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("button",[e._v("Log In")])])])},ve=[],me={name:"login-page",data:function(){return{username:""}},methods:{login:function(){var e=this;this.$store.dispatch({type:"login",username:this.username}).then(function(t){t&&e.$router.push("/toy")})}}},be=me,he=(n("9c68"),Object(u["a"])(be,ye,ve,!1,null,null,null));he.options.__file="login-page.vue";var _e=he.exports,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("section",[n("p",[e._v("Hi "+e._s(e.user.username))]),e.reviews.length>0?[n("p",[e._v("Your Reviews:")]),n("review-list",{attrs:{reviews:e.reviews}})]:e._e(),n("router-link",{attrs:{to:"/toy"}},[e._v("Back to Toys list")])],2):e._e()},we=[],ge={name:"user-details",data:function(){return{user:null}},components:{reviewList:W},computed:{reviews:function(){return this.$store.getters.reviewsToShow}},created:function(){var e=this,t=this.$route.params.userId;t&&this.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.user=t.user,e.$store.dispatch({type:"setReviews",reviews:t.reviews})})}},ke=ge,Te=(n("38a2"),Object(u["a"])(ke,je,we,!1,null,null,null));Te.options.__file="user-details.vue";var $e=Te.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("p",[e._v("Reviews for all toys:")]),n("review-list",{attrs:{reviews:e.reviews}}),n("router-link",{attrs:{to:"/toy"}},[e._v("Back to Toys list")])],1)},xe=[],Ie={name:"review-page",data:function(){return{}},components:{reviewList:W},computed:{reviews:function(){return this.$store.getters.reviewsToShow}},created:function(){this.$store.dispatch({type:"loadReviews"})}},Oe=Ie,Ne=(n("d51b"),Object(u["a"])(Oe,Se,xe,!1,null,null,null));Ne.options.__file="review-page.vue";var ze=Ne.exports;r["default"].use(d["a"]);var Ee=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"login-page",component:_e},{path:"/review",name:"review-page",component:ze},{path:"/toy",name:"toys-app",component:C},{path:"/toy/edit",name:"toy-new",component:se},{path:"/toy/stats",name:"toy-stats",component:fe},{path:"/toy/edit/:toyId",name:"toy-edit",component:se},{path:"/toy/:toyId",name:"toy-details",component:V},{path:"/user/:userId",name:"user-details",component:$e}]}),Re=n("2f62"),Ae=(n("20d6"),n("7514"),n("ac6a"),n("55dd"),n("bc3a")),Ce="",Pe={query:Fe,remove:Le,getById:Ue,saveToy:qe,typesQuery:Be};function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;return t.append("inStock",e.byStatus),t.append("name",e.byName),t.append("type",e.byType),t.append("sortBy",e.sort),Ae.get("".concat(Ce,"/toy?").concat(t)).then(function(e){return e.data})}function Be(){return Ae.get("".concat(Ce,"/type")).then(function(e){return e.data})}function Ue(e){return Ae.get("".concat(Ce,"/toy/").concat(e)).then(function(e){return e.data})}function Le(e){return Ae.delete("".concat(Ce,"/toy/").concat(e))}function qe(e){return e.price=+e.price,e._id?Ae.put("".concat(Ce,"/toy/").concat(e._id),e):(e.createdAt=Date.now(),Ae.post("".concat(Ce,"/toy"),e))}var Me={state:{toys:[],currentToy:null,types:[],typesCount:[],filter:{byName:"",byStatus:"all",byType:"all",sort:"name_1"}},getters:{toys:function(e){return e.toys},types:function(e){return e.types},typesCount:function(e){return e.typesCount},currentToy:function(e){return e.currentToy}},mutations:{setToys:function(e,t){var n=t.toys;e.toys=n},setTypes:function(e){e.toys.forEach(function(t){e.types.find(function(e){return e===t.type})||e.types.push(t.type)})},setTypesCount:function(e,t){var n=t.types;e.typesCount=n},updateToys:function(e,t){var n=t.toyId,r=e.toys.findIndex(function(e){return e._id===n});e.toys.splice(r,1)},updateFilter:function(e,t){var n=t.filter;e.filter=n},setCurrentToy:function(e,t){var n=t.toy;e.currentToy=n}},actions:{loadToys:function(e){var t=e.state,n=e.commit;e.dispatch;return Pe.query(t.filter).then(function(e){n({type:"setToys",toys:e}),n({type:"setTypes"})})},removeToy:function(e,t){var n=e.commit,r=t.toyId;return Pe.remove(r).then(function(e){n({type:"updateToys",toyId:r})})},getById:function(e,t){var n=t.toyId;return Pe.getById(n).then(function(t){return e.commit({type:"setCurrentToy",toy:t}),t})},saveToy:function(e,t){e.commit;var n=t.toy;return Pe.saveToy(n)},setFilter:function(e,t){var n=e.dispatch,r=e.commit,o=t.filter;r({type:"updateFilter",filter:o}),n({type:"loadToys"})},getTypesCount:function(e){var t=e.commit;return Pe.typesQuery().then(function(e){t({type:"setTypesCount",types:e})})}}},De=n("bc3a"),He="",Je={getById:Qe};function Qe(e){return De.get("".concat(He,"/user/").concat(e)).then(function(e){return e.data})}var Ye=n("bc3a"),Ze="",We={login:Xe};function Xe(e){return Ye.put("".concat(Ze,"/login"),{username:e}).then(function(e){return e.data})}var Ge={state:{user:{name:"",_id:""}},getters:{user:function(e){return e.user}},mutations:{setUser:function(e,t){var n=t.user;e.user=n}},actions:{login:function(e,t){var n=e.commit,r=t.username;return We.login(r).then(function(e){return e&&(n({type:"setUser",user:e}),sessionStorage.setItem("loggedInUser",JSON.stringify(e))),e})},getUserById:function(e,t){e.commit;var n=t.userId;return Je.getById(n)}}},Ke=n("bc3a"),Ve="",et={query:tt,addReview:nt};function tt(){return Ke.get("".concat(Ve,"/review")).then(function(e){return e.data})}function nt(e){return Ke.post("".concat(Ve,"/review"),e).then(function(e){return e.data})}var rt={state:{reviews:[]},getters:{reviewsToShow:function(e){return e.reviews}},mutations:{updateReviews:function(e,t){var n=t.reviews;e.reviews=n},addReview:function(e,t){var n=t.review;e.reviews.push(n)}},actions:{saveReview:function(e,t){var n=t.review;return et.addReview(n).then(function(t){n.user=e.getters.user,n.toy=e.getters.currentToy.toy,e.commit({type:"addReview",review:n})})},loadReviews:function(e){var t=e.commit;return et.query().then(function(e){return t({type:"updateReviews",reviews:e})})},setReviews:function(e,t){var n=e.commit,r=t.reviews;n({type:"updateReviews",reviews:r})}}};r["default"].use(Re["a"]);var ot=new Re["a"].Store({modules:{toyModule:Me,userModule:Ge,reviewModule:rt}}),st=(n("5aea"),n("5c96")),at=n.n(st),it=n("b2d6"),ut=n.n(it),ct=n("7bb1");r["default"].use(at.a,{locale:ut.a}),r["default"].use(ct["a"]),r["default"].config.productionTip=!1,new r["default"]({router:Ee,store:ot,render:function(e){return e(l)}}).$mount("#app")},"5aea":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var r=n("5e27"),o=n.n(r);o.a},"5d8c":function(e,t,n){},"5e27":function(e,t,n){},"6fd1":function(e,t,n){},"8eac":function(e,t,n){},9191:function(e,t,n){},"9c68":function(e,t,n){"use strict";var r=n("6fd1"),o=n.n(r);o.a},a99d:function(e,t,n){"use strict";var r=n("5010"),o=n.n(r);o.a},d51b:function(e,t,n){"use strict";var r=n("8eac"),o=n.n(r);o.a},d9db:function(e,t,n){"use strict";var r=n("9191"),o=n.n(r);o.a},dd02:function(e,t,n){}});
//# sourceMappingURL=app.8f83b350.js.map